<!DOCTYPE html>
<html lang="en">
<head><title>TinyWeb Revision History</title></head>
<body>
<h1>TinyWeb Revision History</h1>
<br>
<h2>0.5 (02 December 1997)</h2>
<ul>
<li>Supported (but not tested enough) "Location" and "Status" CGI script output directives. Your feedback would be appreciated.</li>
<li>Supported CGI command line options, mostly used for ISINDEX query.</li>
<li>Changed the algorithm of determining requester's host name. Now the address is resolved back and forward to produce a true picture.</li>
<li>Fixed some minor bugs with launching CGI scripts and tested with ActivePerl by <A HREF="http://www.activestate.com/">ActiveState</A>.</li>
<li>Introduced a resetter thread that shuts down the sockets that are completely inactive for 5 minutes.</li>
<li>Duplicate binds are now reported.</li>
<li>It is now possible to bind the daemon to specified port (second command line parameter) and specified address (third command line parameter).</li>
<li>Now supports more CGI environment variables.</li>
</ul>
<h2>0.6 (17 December 1997)</h2>
<ul>
<li>Fixed a bug with pointer access violation after calling <CODE>gethostbyname()</CODE>.</li>
</ul>
<h2>0.7 (21 December 1997)</h2>
<ul><li>TinySSL gets available.</li>
</ul>
<h2>0.7/SSL (2 May 1998)</h2>
<ul><li>TinySSL uses SSLeay DLLs v0.9.0.</li>
</ul>
<h2>0.9 (18 May 1998)</h2>
<ul>
<li>Fixed a bug that added extra CR/LF after CGI output.</li>
<li>"GMT" abbreviation was not added after "Date:" and "Last-Modified:".</li>
<li>Added "If-Modified-Since" support to be proxy-friendly and mirroring-friendly.</li>
<li>Quick Tip: Don't cruise the cyberspace alone; go with a group! Use a caching proxy server.</li>
</ul>
<h2>1.0 (1-Jun-1998)</h2>
<ul>
<li>Fixed environment processing (thanks to Koos Lodewijkx)</li>
</ul>
<h2>1.0a/SSL (26-Jun-1998)</h2>
<ul><li>TinySSL uses SSLeay DLLs v0.9.0a. You should upgrade from previous version to avoid PKCS#1 padding attack.</li>
</ul>
<h2>1.3 (12-Oct-1998)</h2>
<ul>
<li>Now compiles with Delphi 2.0-4.0</li>
</ul>
<h2>1.4 (17-Oct-1998)</h2>
<ul>
<li>Fixed "CGI Script Returned Nothing" bug while trying to invoke non-existent .EXE application using CGI (thanks to Rainer W. Gerling).</li>
<li>CGI applications are now executing with SW_HIDE instead of DETACHED_PROCESS. It allows to run .EXE application from perl scripts. See helloexe.pl example inside TinyWeb package (thanks to Ada Neznamov).</li>
</ul>
<h2>1.4/SSL (12 December 1998)</h2>
<ul>
<li>Implemented <A HREF="#RFC2068">Basic Access Authentication</A> (rfc2068)</li>
</ul>
<h2>1.5 (20 December 1998)</h2>
<ul>
<li><CODE>PATH_INFO</CODE> &amp; <CODE>PATH_TRANSLATED</CODE> CGI variables.</li>
<li>CGI executable cache.</li>
<li>Added <CODE>WaitForInputIdle()</CODE> call to prevent from running GUI applications as CGI.</li>
</ul>
<h2>1.6 (21 January 1999)</h2>
<ul>
<li>Fixed problems with executing CGI, when script name or executable name contained space characters (thanks to Nick McDaniel).</li>
</ul>
<h2>1.4/SSL (23-Nov-1999)</h2>
<ul>
<li>TinySSL is shipped again with 0.8.1 SSLeay DLLs as testing has shown them as most stable, though they were vulnerable to PKCS#1 padding attack. See <A HREF="http://www.openssl.org">www.openssl.org</A> for the developed versions of SSLeay library.</li>
</ul>
<h2>1.8 (14 January 2000)</h2>
<ul>
<li>Improved <CODE>TCollector.Collect</CODE> routine, it's now 100 times (or even more) faster.</li>
<li><A HREF="/en/products/tinyweb/features.php#CGIindex">CGI instead of index.html</A></li>
</ul>
<h2>1.8/SSL (14 January 2000)</h2>
<ul>
<li>TinySSL is shipped with <A HREF="http://www.openssl.org">OpenSSL</A> v0.9.4 DLLs</li>
</ul>
<h2>1.8/SSL (3 March 2000)</h2>
<ul>
<li>TinySSL is shipped with <A HREF="http://www.openssl.org">OpenSSL</A> v0.9.5 DLLs</li>
</ul>
<h2>1.9 (11 May 2000)</h2>
<ul>
<li>Martin Lafferty made a provision to run DOS CGI under WinNT</li>
</ul>
<h2>1.93 (03 June 2004)</h2>
<ul>
<li>Fixed <a href="https://nvd.nist.gov/vuln/detail/CVE-2003-1510">CVE-2003-1510</a> (Denial of Service): Added null byte (#0) check in path validation to prevent CPU consumption via ".%00." in cgi-bin requests.</li>
<li>Fixed <a href="https://nvd.nist.gov/vuln/detail/CVE-2004-2636">CVE-2004-2636</a> (Source Code Disclosure, CWE-22): Added "\.\\" pattern detection (level #1) and StrEnds() verification after ExpandFileName() (level #2) to prevent source code disclosure via "/./" in URLs.</li>
<li>Added LocalFNameSafe() function to validate all path components.</li>
<li>Added FileIsRegular() function to block Windows reserved device names (CON, PRN, AUX, NUL, COM0-9, LPT0-9, CONIN$, CONOUT$, CLOCK$).</li>
<li>Security advisory: <a href="https://www.masiutin.net/tinyweb-cves-mitre.html">MITRE CVE Advisories</a></li>
</ul>
<h2>1.94 (06 April 2017)</h2>
<ul>
<li>Added an additional check that the requested file name is safe (see LocalFNameSafe and FileIsRegular): that the file is a normal file rather than a device name, that the file is kept in a directory that does not have hidden or system attribute.</li>
<li>When the server wants to close the connection due to an error and the client did send the "Connection: Keep-Alive" request header, some clients thought that the connection should continue despite the server didn't send the "Connection: Keep-Alive" response header. Now, in these cases, the server explicitly sends the "Connection: Close" response header.</li>
</ul>
<h2>1.95 (08 August 2021)</h2>
<ul>
<li>TinyWeb now compiles under Delphi 10.3</li>
</ul>
<h2>1.96 (06 April 2023)</h2>
<ul>
<li>The file buffers of the access log are flushed after each write, but with a delay of up to 0.1 seconds to prevent excessive flushing under heavy load, when many lines are written with very short time intervals.</li>
<li>There is an error message displayed when TinyWeb is unable to create (open for writing) log files at startup; in earlier versions it just exited silently without notifying the user about the error in any way.</li>
</ul>
<h2>1.97 (11 April 2023)</h2>
<ul>
<li>Fixed compiler warnings in FPC (Free Pascal)</li>
<li>The file buffers of all log files are flushed, not just the logs of the access logs</li>
<li>The query string of the GET method is also written to the access log</li>
</ul>
<h2>1.98 (23 November 2025)</h2>
<ul>
<li>Apache-style shell metacharacter escaping for CGI query parameters (always active)</li>
<li>Optional strict whitelist validation via STRICT_CGI_PARAMS define (enabled by default)</li>
<li>CGI query parameters protected by two layers: whitelist rejects unsafe chars, escaping sanitizes the rest</li>
<li>Full ISINDEX query support preserved per <a href="https://datatracker.ietf.org/doc/html/rfc3875#section-4.4">RFC 3875 Section 4.4</a></li>
<li>To allow special characters in queries, disable STRICT_CGI_PARAMS in define.inc</li>
</ul>
<h2>1.99 (05 January 2026)</h2>
<ul>
<li>Fixed <a href="https://nvd.nist.gov/vuln/detail/CVE-2024-5193">CVE-2024-5193</a> (CRLF Injection, CWE-93): Added StripCRLF function to remove CR/LF characters from Location header values, preventing HTTP header injection via URL-encoded %0D%0A sequences in redirect responses.</li>
<li>Fixed <a href="https://nvd.nist.gov/vuln/detail/CVE-2024-34199">CVE-2024-34199</a> (Buffer Overflow / Heap Overflow DoS, CWE-787): Added request size limits in TCollector.Collect - CMaxHeaderLineLength (8KB per line) and CMaxTotalHeaderSize (64KB total) to prevent memory exhaustion attacks that could crash the server.</li>
<li>Added detailed CVE technical documentation as comments in source code (SrvMain.pas) describing vulnerability mechanics, attack vectors, and fixes for CVE-2024-34199 and CVE-2024-5193.</li>
<li>GitHub Actions: Added explicit permissions block to build workflow (CWE-275 mitigation).</li>
<li>Minor Dockerfile and documentation improvements.</li>
<li>Security advisories: <a href="https://www.masiutin.net/tinyweb-cve-2024-5193.html">CVE-2024-5193</a>, <a href="https://www.masiutin.net/tinyweb-cves-mitre.html">MITRE CVE Advisories</a></li>
</ul>
</body>
</html>